#ifndef RESPONSE_HPP
# define RESPONSE_HPP

#include <string>
#include <vector>
#include <iomanip>
#include <fstream>


#include "../sockets/Sockt.hpp"
#include "../stdlib/stdlib.hpp"

#include "../request/Request.hpp"

#include "../http_status/HttpStatus.hpp"
#include "../header_field/HeaderField.hpp"

namespace ft
{
	class Host;
	class Request;

	class Response
	{
		friend class Client;
		
		//================================================================================================
		//	attributes
		//================================================================================================
		private:
			std::string					_version;
			HttpStatus					_status;
			std::vector<HeaderField>	_headers;
			std::string					_bodyFileName;
			std::fstream				_body;
		//================================================================================================
		//	attributes End
		//================================================================================================
		//================================================================================================
		//	destructors, constructors, and assignment operators
		//================================================================================================
		public:
			Response();
			~Response();

		private:
			Response(const Response& src);
			Response	&operator=(const Response& rop);
		//================================================================================================
		//	destructors, constructors, and assignment operators End
		//================================================================================================


		//================================================================================================
		//	Response operations
		//================================================================================================
		public:
			void	build(std::vector<Host *>& hosts, Request& request);
		//================================================================================================
		//	Response operations End
		//================================================================================================

		//================================================================================================
		//	private methods
		//================================================================================================
		private:
			Host	*_fetchTargetedHost(std::vector<Host *>& hosts);
			void	_deepCopy(const Response& src);
		//================================================================================================
		//	private methods End
		//================================================================================================


		//================================================================================================
		//	overload << for Response
		//================================================================================================
		public:
			friend std::ostream	&operator<<(std::ostream& ostr, const Response& response);
		//================================================================================================
		//	overload << for Response End
		//================================================================================================
	};
}

#endif